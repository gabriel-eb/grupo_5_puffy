(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{18:function(e,c,t){},30:function(e,c,t){},37:function(e,c,t){},38:function(e,c,t){"use strict";t.r(c);var a=t(2),s=t.n(a),n=t(22),r=t.n(n),l=(t(30),t(18),t(4)),i=(t(14),t(1));var d=t(3),j=t(5);Object(j.e)((function(){var e=Object(a.useState)(""),c=Object(d.a)(e,2),t=c[0],s=c[1],n=Object(a.useState)(""),r=Object(d.a)(n,2),l=r[0],o=r[1],b=Object(a.useState)(null),m=Object(d.a)(b,2),h=m[0],u=m[1],O=Object(a.useState)(0),x=Object(d.a)(O,2),p=x[0],f=x[1],g=Object(a.useState)(0),v=Object(d.a)(g,2),N=v[0],y=v[1],w=Object(a.useState)(0),C=Object(d.a)(w,2),S=C[0],D=C[1],q=Object(a.useState)(0),E=Object(d.a)(q,2),F=E[0],T=E[1],P=Object(a.useState)([]),M=Object(d.a)(P,2),k=M[0],z=M[1],I=Object(a.useState)(!1),L=Object(d.a)(I,2),A=L[0],R=L[1],U=Object(j.d)();return Object(a.useEffect)((function(){fetch("/api/categories").then((function(e){return e.json()})).then((function(e){return z(e)})).catch((function(e){return console.log(e)}))}),[]),Object(i.jsx)("div",{className:"row justify-content-md-center",style:{margin:0},children:Object(i.jsxs)("div",{className:"col-12 px-5 px-md-0 col-md-10",children:[Object(i.jsx)("h2",{className:"mt-3",children:"Crear Producto"}),Object(i.jsx)("form",{onSubmit:function(e){e.preventDefault(),R(!0);var c=new FormData;c.append("name",t),c.append("description",l),c.append("image",h),c.append("category",p),c.append("size",N),c.append("price",S),c.append("quantity",F),fetch("/api/products/create",{method:"POST",body:c}).then((function(){R(!1),console.log("Creating new product"),U.push("/dashboard")})).catch((function(e){return console.log(e)}))},children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-md-8 col-12",children:[Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre",name:"prodName",id:"prodName",value:t,onChange:function(e){return s(e.target.value)},required:!0}),Object(i.jsx)("label",{children:"Nombre:"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("textarea",{id:"description",name:"description",className:"form-control",placeholder:"Descripci\xf3n",value:l,onChange:function(e){return o(e.target.value)},required:!0}),Object(i.jsx)("label",{children:"Descripci\xf3n:"})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{className:"float-start mb-1",children:"Imagen del producto:"}),Object(i.jsx)("input",{type:"file",name:"image",id:"image",className:"form-control",onChange:function(e){return u(e.target.files[0])},accept:"image/png, image/jpeg, image/jpg",required:!0})]})]}),Object(i.jsxs)("div",{className:"col-md-4 col-12",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"form-floating mb-3 col-md-6",children:[Object(i.jsx)("input",{type:"number",name:"price",id:"price",className:"form-control",placeholder:"Precio",value:S,onChange:function(e){return D(e.target.value)},required:!0}),Object(i.jsx)("label",{children:"Precio:"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3 col-md-6",children:[Object(i.jsx)("input",{type:"number",name:"quantity",id:"quantity",className:"form-control",placeholder:"Cantidad",value:F,onChange:function(e){return T(e.target.value)},required:!0}),Object(i.jsx)("label",{children:"Cantidad:"})]})]}),Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsxs)("select",{name:"category",id:"category",className:"form-select",placeholder:"Categoria",value:p,onChange:function(e){return f(e.target.value)},required:!0,children:[Object(i.jsx)("option",{value:""}),k&&k.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name})}))]}),Object(i.jsx)("label",{children:"Categor\xeda:"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3 mt-md-4",children:[Object(i.jsxs)("select",{name:"size",id:"size",className:"form-select",placeholder:"Tama\xf1o",value:N,onChange:function(e){return y(e.target.value)},required:!0,children:[Object(i.jsx)("option",{value:""}),Object(i.jsx)("option",{value:"0",children:"Chico"}),Object(i.jsx)("option",{value:"1",children:"Mediano"}),Object(i.jsx)("option",{value:"2",children:"Grande"})]}),Object(i.jsx)("label",{children:"Tama\xf1o: "})]})]}),Object(i.jsxs)("div",{children:[!A&&Object(i.jsx)("button",{className:"btn btn-success mt-2 btn-lg col-12 col-md-2 offset-md-10",children:"Crear"}),A&&Object(i.jsx)("button",{className:"btn btn-secondary mt-2 btn-lg col-12 col-md-2 offset-md-10",disabled:!0,children:"Creando..."})]})]})})]})})}));Object(j.e)((function(e){var c=e.match.params.id,t=Object(a.useState)(""),s=Object(d.a)(t,2),n=s[0],r=s[1],l=Object(a.useState)(""),o=Object(d.a)(l,2),b=o[0],m=o[1],h=Object(a.useState)(null),u=Object(d.a)(h,2),O=u[0],x=u[1],p=Object(a.useState)(null),f=Object(d.a)(p,2),g=f[0],v=f[1],N=Object(a.useState)(0),y=Object(d.a)(N,2),w=y[0],C=y[1],S=Object(a.useState)(0),D=Object(d.a)(S,2),q=D[0],E=D[1],F=Object(a.useState)(0),T=Object(d.a)(F,2),P=T[0],M=T[1],k=Object(a.useState)(0),z=Object(d.a)(k,2),I=z[0],L=z[1],A=Object(a.useState)([]),R=Object(d.a)(A,2),U=R[0],X=R[1],G=Object(a.useState)(!1),B=Object(d.a)(G,2),J=B[0],V=B[1],H=Object(j.d)();return Object(a.useEffect)((function(){fetch("/api/categories").then((function(e){return e.json()})).then((function(e){return X(e)})).catch((function(e){return console.log(e)})),fetch("/api/products/".concat(c)).then((function(e){return e.json()})).then((function(e){r(e.name),m(e.description),v(e.url),E(e.size),M(e.price),L(e.quantity),C(e.category)})).catch((function(e){return console.log(e)}))}),[c]),Object(i.jsx)("div",{className:"row justify-content-md-center",style:{margin:0},children:Object(i.jsxs)("div",{className:"col-12 px-5 px-md-0 col-md-10",children:[Object(i.jsx)("h2",{className:"mt-3",children:"Crear Producto"}),Object(i.jsx)("form",{onSubmit:function(e){e.preventDefault(),V(!0);var t=new FormData;t.append("name",n),t.append("description",b),t.append("image",O),t.append("category",w),t.append("size",q),t.append("price",P),t.append("quantity",I),fetch("/api/products/".concat(c,"/update"),{method:"PUT",body:t}).then((function(){V(!1),console.log("Updating product with ID: "+c),H.push("/dashboard")})).catch((function(e){return console.log(e)}))},children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-md-8 col-12",children:[Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre",name:"prodName",id:"prodName",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(i.jsx)("label",{children:"Nombre:"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("textarea",{id:"description",name:"description",className:"form-control",placeholder:"Descripci\xf3n",value:b,onChange:function(e){return m(e.target.value)},required:!0}),Object(i.jsx)("label",{children:"Descripci\xf3n:"})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("h3",{children:"Imagen actual:"}),Object(i.jsx)("img",{src:g,alt:n,style:{maxHeight:"250px"}}),Object(i.jsx)("label",{className:"float-start mb-1",children:"Imagen del producto:"}),Object(i.jsx)("input",{type:"file",name:"image",id:"image",className:"form-control",onChange:function(e){return x(e.target.files[0])},accept:"image/png, image/jpeg, image/jpg"})]})]}),Object(i.jsxs)("div",{className:"col-md-4 col-12",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"form-floating mb-3 col-md-6",children:[Object(i.jsx)("input",{type:"number",name:"price",id:"price",className:"form-control",placeholder:"Precio",value:P,onChange:function(e){return M(e.target.value)},required:!0}),Object(i.jsx)("label",{children:"Precio:"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3 col-md-6",children:[Object(i.jsx)("input",{type:"number",name:"quantity",id:"quantity",className:"form-control",placeholder:"Cantidad",value:I,onChange:function(e){return L(e.target.value)},required:!0}),Object(i.jsx)("label",{children:"Cantidad:"})]})]}),Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsxs)("select",{name:"category",id:"category",className:"form-select",placeholder:"Categoria",value:w,onChange:function(e){return C(e.target.value)},required:!0,children:[Object(i.jsx)("option",{value:""}),U.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name})}))]}),Object(i.jsx)("label",{children:"Categor\xeda:"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3 mt-md-4",children:[Object(i.jsxs)("select",{name:"size",id:"size",className:"form-select",placeholder:"Tama\xf1o",value:q,onChange:function(e){return E(e.target.value)},required:!0,children:[Object(i.jsx)("option",{value:""}),Object(i.jsx)("option",{value:"0",children:"Chico"}),Object(i.jsx)("option",{value:"1",children:"Mediano"}),Object(i.jsx)("option",{value:"2",children:"Grande"})]}),Object(i.jsx)("label",{children:"Tama\xf1o: "})]})]}),Object(i.jsxs)("div",{children:[!J&&Object(i.jsx)("button",{className:"btn btn-warning mt-2 btn-lg col-12 col-md-2 offset-md-10",children:"Modificar"}),J&&Object(i.jsx)("button",{className:"btn btn-secondary mt-2 btn-lg col-12 col-md-3 offset-md-9",disabled:!0,children:"Modificando..."})]})]})})]})})})),t(20);t(15);var o=t(10);var b=t(13);t(25);Object(j.e)((function(e){var c=e.match.params.id,t=Object(a.useState)(null),s=Object(d.a)(t,2),n=s[0],r=s[1],j=Object(a.useState)([]),o=Object(d.a)(j,2),b=o[0],m=o[1],h={weekday:"long",year:"numeric",month:"long",day:"numeric"};return Object(a.useEffect)((function(){fetch("/api/categories").then((function(e){return e.json()})).then((function(e){m(e),console.log(e)})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){fetch("/api/products/".concat(c)).then((function(e){return e.json()})).then((function(e){r(e),console.log(e)})).catch((function(e){return console.log(e)}))}),[c]),Object(i.jsxs)("div",{className:"row d-flex align-items-center px-1 px-md-5",style:{margin:"0"},children:[b.length>0&&n&&!n.error&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"col-12 text-center mb-3",children:Object(i.jsx)("h1",{children:"Detalle del producto"})}),Object(i.jsxs)("div",{className:"col-md-5 mb-5",children:[Object(i.jsx)("img",{className:"img-fluid",src:n.url,alt:n.name}),Object(i.jsxs)("div",{className:"row d-lg-flex d-none mt-2",children:[Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("h4",{children:"Tama\xf1o:"}),Object(i.jsx)("h5",{children:function(e){switch(e){case 0:return"Peque\xf1o";case 1:return"Mediano";default:return"Grande"}}(n.size)})]}),Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("h4",{children:"Cantidad:"}),Object(i.jsx)("h5",{children:n.quantity})]})]})]}),Object(i.jsxs)("div",{className:"col-md-7 ps-md-5 mb-3",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-8",children:[Object(i.jsx)("h3",{children:"Nombre:"}),Object(i.jsx)("p",{children:n.name})]}),Object(i.jsxs)("div",{className:"col-4",children:[Object(i.jsx)(l.b,{to:"/dashboard/products/".concat(n.id,"/update"),className:"btn btn-warning mb-3",children:"Editar"}),Object(i.jsxs)("h3",{children:["ID: ",n.id]})]})]}),Object(i.jsx)("h3",{children:"Descripci\xf3n:"}),Object(i.jsx)("p",{children:n.description}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"row d-lg-none mb-3",children:[Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("h5",{children:"Tama\xf1o:"}),Object(i.jsx)("p",{children:n.size})]}),Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("h5",{children:"Cantidad:"}),Object(i.jsx)("p",{children:n.quantity})]})]}),Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("h3",{children:"Precio:"}),Object(i.jsxs)("p",{children:["$ ",parseFloat(n.price).toFixed(2)," mxn"]})]}),Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("h3",{children:"Categor\xeda:"}),Object(i.jsx)("p",{children:b.filter((function(e){return e.id===n.category}))[0].name})]})]}),Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsxs)("div",{className:"col-lg-6",children:[Object(i.jsx)("h3",{children:"Creado:"}),Object(i.jsx)("p",{children:new Date(n.createdAt).toLocaleDateString("sp-MX",h)})]}),Object(i.jsxs)("div",{className:"col-lg-6",children:[Object(i.jsx)("h3",{children:"Actualizado:"}),Object(i.jsx)("p",{children:new Date(n.updatedAt).toLocaleDateString("sp-MX",h)})]})]})]})]}),0===b.length&&!n&&Object(i.jsx)("div",{className:"col-12 text-center mt-5",children:Object(i.jsx)("h1",{children:"Estamos horneando tu postre..."})}),n&&n.error&&Object(i.jsxs)("div",{className:"col-12 text-center mt-5",children:[Object(i.jsx)("h1",{children:"El postre que buscas no existe en la base de datos."}),Object(i.jsx)("h4",{children:Object(i.jsx)(l.b,{to:"/dashboard",children:"Regresar a dashboard."})})]})]})}));var m=function(){var e=Object(a.useState)(null),c=Object(d.a)(e,2),t=c[0],n=c[1];return Object(a.useEffect)((function(){fetch("/api/users/last").then((function(e){return e.json()})).then((function(e){console.log(e),n(e)})).catch((function(e){return console.log(e)}))}),[]),Object(i.jsx)(s.a.Fragment,{children:null!=t&&Object(i.jsxs)("div",{className:"card shadow mb-4",children:[Object(i.jsx)("div",{className:"card-header py-3",children:Object(i.jsx)("h5",{className:"m-0 font-weight-bold text-gray-800",children:"\xdaltimo usuario registrado"})}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsxs)("h2",{className:"text-center pink-text",children:[t.firstName," ",t.lastName]}),Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("img",{className:"img-fluid px-3 px-sm-4 mt-3 mb-4",style:{width:"40rem"},src:t.url,alt:t.id})}),Object(i.jsxs)("h4",{children:["Creado hace ",(Math.abs(new Date-new Date(t.createdAt))/6e4).toFixed(0)," minutos."]}),Object(i.jsx)("a",{className:"btn btn-danger disabled",target:"_blank",rel:"nofollow",href:"/",children:"View detail"})]})]})})};var h=function(){var e=Object(a.useState)([]),c=Object(d.a)(e,2),t=c[0],s=c[1];return Object(a.useEffect)((function(){fetch("/api/users").then((function(e){return e.json()})).then((function(e){s(e.users)}))}),[]),Object(i.jsxs)("div",{className:"card shadow mb-4",children:[Object(i.jsx)("div",{className:"card-header py-3",children:Object(i.jsx)("h6",{className:"m-0 font-weight-bold text-gray-800",children:"Lista de Usuarios"})}),Object(i.jsx)("div",{className:"table-responsive p-lg-2",children:Object(i.jsxs)("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellSpacing:"0",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"pink-text",children:"ID"}),Object(i.jsxs)("th",{className:"pink-text",children:[Object(i.jsx)(o.c,{})," Nombre "]}),Object(i.jsxs)("th",{className:"pink-text",children:[Object(i.jsx)(b.a,{})," Email "]}),Object(i.jsxs)("th",{className:"pink-text",children:[Object(i.jsx)(o.b,{})," Detalle"]})]})}),Object(i.jsx)("tbody",{children:t.map((function(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.id}),Object(i.jsxs)("td",{children:[e.firstName," ",e.lastName]}),Object(i.jsx)("td",{children:e.email}),Object(i.jsx)("td",{children:Object(i.jsx)(l.b,{to:e.detail,disabled:!0,children:"Ver"})})]})})}))})]})})]})};var u=function(){var e=Object(a.useState)(0),c=Object(d.a)(e,2),t=c[0],n=c[1];return Object(a.useEffect)((function(){fetch("/api/users").then((function(e){return e.json()})).then((function(e){n(e.count)})).catch((function(e){return console.log(e)}))}),[]),Object(i.jsx)(s.a.Fragment,{children:Object(i.jsx)("div",{className:"col-12 mb-4",children:Object(i.jsxs)("div",{className:"card shadow mb-4",children:[Object(i.jsx)("div",{className:"card-header py-3",children:Object(i.jsx)("h6",{className:"m-0 font-weight-bold text-gray-800",children:"Totales de Usuarios"})}),0===t&&Object(i.jsx)("h2",{children:"Cargando..."}),0!==t&&Object(i.jsx)("div",{className:"card-body",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12 mb-4",children:Object(i.jsx)("div",{className:"card text-white shadow",children:Object(i.jsx)("div",{className:"card-body bg-success",children:Object(i.jsxs)("h4",{children:["Total de usuarios:",Object(i.jsx)("br",{}),t]})})})})})})]})})})};Object(j.e)((function(){return Object(i.jsxs)("div",{className:"row d-flex align-items-center px-1 px-md-5",style:{margin:"0"},children:[Object(i.jsx)("div",{className:"col-md-6",children:Object(i.jsx)(m,{})}),Object(i.jsx)("div",{className:"col-md-6",children:Object(i.jsx)(u,{})}),Object(i.jsx)("div",{className:"col-12",children:Object(i.jsx)(h,{})})]})}));Object(j.e)((function(e){var c=e.match.params.id,t=Object(a.useState)(null),s=Object(d.a)(t,2),n=s[0],r=s[1],j={weekday:"long",year:"numeric",month:"long",day:"numeric"};return Object(a.useEffect)((function(){fetch("/api/users/".concat(c)).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.log(e)})),console.log(n)}),[c]),Object(i.jsxs)("div",{className:"row d-flex align-items-center px-1 px-md-5",style:{margin:"0"},children:[n&&!n.error&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"col-12 text-center mb-3",children:Object(i.jsx)("h1",{children:"Detalle del usuario"})}),Object(i.jsx)("div",{className:"col-md-5 mb-5",children:Object(i.jsx)("img",{className:"img-fluid",src:n.url,alt:n.name})}),Object(i.jsxs)("div",{className:"col-md-7 ps-md-5 mb-3",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-8",children:[Object(i.jsx)("h3",{children:"Nombre:"}),Object(i.jsxs)("p",{children:[n.firstName," ",n.lastName]})]}),Object(i.jsx)("div",{className:"col-4",children:Object(i.jsxs)("h3",{children:["ID: ",n.id]})})]}),Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("h5",{children:"M\xf3vil:"}),Object(i.jsx)("p",{children:n.mobile})]}),Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("h5",{children:"E-mail:"}),Object(i.jsx)("p",{children:n.email})]})]}),Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsxs)("div",{className:"col-lg-6",children:[Object(i.jsx)("h3",{children:"Creado:"}),Object(i.jsx)("p",{children:new Date(n.createdAt).toLocaleDateString("sp-MX",j)})]}),Object(i.jsxs)("div",{className:"col-lg-6",children:[Object(i.jsx)("h3",{children:"\xdaltima sesi\xf3n:"}),Object(i.jsx)("p",{children:new Date(n.lastLogin).toLocaleDateString("sp-MX",j)})]})]})]})]}),!n&&Object(i.jsx)("div",{className:"col-12 text-center mt-5",children:Object(i.jsx)("h1",{children:"Estamos buscando al usuario..."})}),n&&n.error&&Object(i.jsxs)("div",{className:"col-12 text-center mt-5",children:[Object(i.jsx)("h1",{children:"El usuario que buscas no existe."}),Object(i.jsx)("h4",{children:Object(i.jsx)(l.b,{to:"/dashboard",children:"Regresar a dashboard."})})]})]})})),t(37);var O=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("a",{href:"/",className:"navbar-brand me-5",style:{marginRight:"10px"},children:" Regresar a Tienda"}),!1]})},x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(c){var t=c.getCLS,a=c.getFID,s=c.getFCP,n=c.getLCP,r=c.getTTFB;t(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(i.jsx)(l.a,{children:Object(i.jsx)(O,{})}),document.getElementById("root")),x()}},[[38,1,2]]]);
//# sourceMappingURL=main.3f13a391.chunk.js.map