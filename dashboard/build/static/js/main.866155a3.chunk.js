(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{18:function(e,c,t){},30:function(e,c,t){},37:function(e,c,t){},38:function(e,c,t){"use strict";t.r(c);var a=t(2),s=t.n(a),n=t(22),r=t.n(n),l=(t(30),t(3)),i=(t(18),t(4)),d=t(14),j=t(1);var o=function(){return Object(j.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-ligth mb-5",style:{backgroundColor:"#003459"},children:Object(j.jsxs)("div",{class:"container-fluid",children:[Object(j.jsxs)("a",{href:"/",className:"navbar-brand me-5",style:{marginRight:"10px"},children:[Object(j.jsx)(d.a,{style:{color:"#f25287",fontSize:"1.5rem"}}),"  Regresar a Tienda"]}),Object(j.jsx)("div",{className:"collapse navbar-collapse ms-5 text-center",id:"navbarSupportedContent",children:Object(j.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(j.jsx)("li",{className:"nav-item me-lg-3",children:Object(j.jsx)(i.b,{className:"nav-link","aria-current":"page",to:"/dashboard",children:"Dashboard"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{className:"nav-link me-lg-3","aria-current":"page",to:"/dashboard/products/create",children:"Crear Producto"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{className:"nav-link me-lg-3","aria-current":"page",to:"/dashboard/users",children:"Usuarios"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{to:"/",className:"nav-link me-lg-3 disabled",children:"Pronto..."})})]})}),Object(j.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{class:"navbar-toggler-icon"})})]})})},b=t(5);var h=Object(b.h)((function(){var e=Object(a.useState)(""),c=Object(l.a)(e,2),t=c[0],s=c[1],n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],d=r[1],o=Object(a.useState)(null),h=Object(l.a)(o,2),m=h[0],O=h[1],u=Object(a.useState)(0),x=Object(l.a)(u,2),p=x[0],f=x[1],g=Object(a.useState)(0),v=Object(l.a)(g,2),N=v[0],y=v[1],w=Object(a.useState)(0),S=Object(l.a)(w,2),C=S[0],D=S[1],k=Object(a.useState)(0),q=Object(l.a)(k,2),E=q[0],T=q[1],F=Object(a.useState)([]),P=Object(l.a)(F,2),z=P[0],I=P[1],M=Object(a.useState)(!1),A=Object(l.a)(M,2),L=A[0],R=A[1],V=Object(b.g)();return Object(a.useEffect)((function(){fetch("/api/categories").then((function(e){return e.json()})).then((function(e){return I(e)})).catch((function(e){return console.log(e)}))}),[]),Object(j.jsx)("div",{className:"row justify-content-md-center",style:{margin:0},children:Object(j.jsxs)("div",{className:"col-12 px-5 px-md-0 col-md-10",children:[Object(j.jsx)("h2",{className:"mt-3",children:"Crear Producto"}),Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),R(!0);var c=new FormData;c.append("name",t),c.append("description",i),c.append("image",m),c.append("category",p),c.append("size",N),c.append("price",C),c.append("quantity",E),fetch("/api/products/create",{method:"POST",body:c}).then((function(){R(!1),console.log("Creating new product"),V.push("/dashboard")})).catch((function(e){return console.log(e)}))},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-8 col-12",children:[Object(j.jsxs)("div",{className:"form-floating mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre",name:"prodName",id:"prodName",value:t,onChange:function(e){return s(e.target.value)},required:!0}),Object(j.jsx)("label",{children:"Nombre:"})]}),Object(j.jsxs)("div",{className:"form-floating mb-3",children:[Object(j.jsx)("textarea",{id:"description",name:"description",className:"form-control",placeholder:"Descripci\xf3n",value:i,onChange:function(e){return d(e.target.value)},required:!0}),Object(j.jsx)("label",{children:"Descripci\xf3n:"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"float-start mb-1",children:"Imagen del producto:"}),Object(j.jsx)("input",{type:"file",name:"image",id:"image",className:"form-control",onChange:function(e){return O(e.target.files[0])},accept:"image/png, image/jpeg, image/jpg",required:!0})]})]}),Object(j.jsxs)("div",{className:"col-md-4 col-12",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"form-floating mb-3 col-md-6",children:[Object(j.jsx)("input",{type:"number",name:"price",id:"price",className:"form-control",placeholder:"Precio",value:C,onChange:function(e){return D(e.target.value)},required:!0}),Object(j.jsx)("label",{children:"Precio:"})]}),Object(j.jsxs)("div",{className:"form-floating mb-3 col-md-6",children:[Object(j.jsx)("input",{type:"number",name:"quantity",id:"quantity",className:"form-control",placeholder:"Cantidad",value:E,onChange:function(e){return T(e.target.value)},required:!0}),Object(j.jsx)("label",{children:"Cantidad:"})]})]}),Object(j.jsxs)("div",{className:"form-floating mb-3",children:[Object(j.jsxs)("select",{name:"category",id:"category",className:"form-select",placeholder:"Categoria",value:p,onChange:function(e){return f(e.target.value)},required:!0,children:[Object(j.jsx)("option",{value:""}),z&&z.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name})}))]}),Object(j.jsx)("label",{children:"Categor\xeda:"})]}),Object(j.jsxs)("div",{className:"form-floating mb-3 mt-md-4",children:[Object(j.jsxs)("select",{name:"size",id:"size",className:"form-select",placeholder:"Tama\xf1o",value:N,onChange:function(e){return y(e.target.value)},required:!0,children:[Object(j.jsx)("option",{value:""}),Object(j.jsx)("option",{value:"0",children:"Chico"}),Object(j.jsx)("option",{value:"1",children:"Mediano"}),Object(j.jsx)("option",{value:"2",children:"Grande"})]}),Object(j.jsx)("label",{children:"Tama\xf1o: "})]})]}),Object(j.jsxs)("div",{children:[!L&&Object(j.jsx)("button",{className:"btn btn-success mt-2 btn-lg col-12 col-md-2 offset-md-10",children:"Crear"}),L&&Object(j.jsx)("button",{className:"btn btn-secondary mt-2 btn-lg col-12 col-md-2 offset-md-10",disabled:!0,children:"Creando..."})]})]})})]})})}));var m=Object(b.h)((function(e){var c=e.match.params.id,t=Object(a.useState)(""),s=Object(l.a)(t,2),n=s[0],r=s[1],i=Object(a.useState)(""),d=Object(l.a)(i,2),o=d[0],h=d[1],m=Object(a.useState)(null),O=Object(l.a)(m,2),u=O[0],x=O[1],p=Object(a.useState)(null),f=Object(l.a)(p,2),g=f[0],v=f[1],N=Object(a.useState)(0),y=Object(l.a)(N,2),w=y[0],S=y[1],C=Object(a.useState)(0),D=Object(l.a)(C,2),k=D[0],q=D[1],E=Object(a.useState)(0),T=Object(l.a)(E,2),F=T[0],P=T[1],z=Object(a.useState)(0),I=Object(l.a)(z,2),M=I[0],A=I[1],L=Object(a.useState)([]),R=Object(l.a)(L,2),V=R[0],U=R[1],B=Object(a.useState)(!1),X=Object(l.a)(B,2),G=X[0],J=X[1],K=Object(b.g)();return Object(a.useEffect)((function(){fetch("/api/categories").then((function(e){return e.json()})).then((function(e){return U(e)})).catch((function(e){return console.log(e)})),fetch("/api/products/".concat(c)).then((function(e){return e.json()})).then((function(e){r(e.name),h(e.description),v(e.url),q(e.size),P(e.price),A(e.quantity),S(e.category)})).catch((function(e){return console.log(e)}))}),[c]),Object(j.jsx)("div",{className:"row justify-content-md-center",style:{margin:0},children:Object(j.jsxs)("div",{className:"col-12 px-5 px-md-0 col-md-10",children:[Object(j.jsx)("h2",{className:"mt-3",children:"Crear Producto"}),Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),J(!0);var t=new FormData;t.append("name",n),t.append("description",o),t.append("image",u),t.append("category",w),t.append("size",k),t.append("price",F),t.append("quantity",M),fetch("/api/products/".concat(c,"/update"),{method:"PUT",body:t}).then((function(){J(!1),console.log("Updating product with ID: "+c),K.push("/dashboard")})).catch((function(e){return console.log(e)}))},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-8 col-12",children:[Object(j.jsxs)("div",{className:"form-floating mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre",name:"prodName",id:"prodName",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(j.jsx)("label",{children:"Nombre:"})]}),Object(j.jsxs)("div",{className:"form-floating mb-3",children:[Object(j.jsx)("textarea",{id:"description",name:"description",className:"form-control",placeholder:"Descripci\xf3n",value:o,onChange:function(e){return h(e.target.value)},required:!0}),Object(j.jsx)("label",{children:"Descripci\xf3n:"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("h3",{children:"Imagen actual:"}),Object(j.jsx)("img",{src:g,alt:n,style:{maxHeight:"250px"}}),Object(j.jsx)("label",{className:"float-start mb-1",children:"Imagen del producto:"}),Object(j.jsx)("input",{type:"file",name:"image",id:"image",className:"form-control",onChange:function(e){return x(e.target.files[0])},accept:"image/png, image/jpeg, image/jpg"})]})]}),Object(j.jsxs)("div",{className:"col-md-4 col-12",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"form-floating mb-3 col-md-6",children:[Object(j.jsx)("input",{type:"number",name:"price",id:"price",className:"form-control",placeholder:"Precio",value:F,onChange:function(e){return P(e.target.value)},required:!0}),Object(j.jsx)("label",{children:"Precio:"})]}),Object(j.jsxs)("div",{className:"form-floating mb-3 col-md-6",children:[Object(j.jsx)("input",{type:"number",name:"quantity",id:"quantity",className:"form-control",placeholder:"Cantidad",value:M,onChange:function(e){return A(e.target.value)},required:!0}),Object(j.jsx)("label",{children:"Cantidad:"})]})]}),Object(j.jsxs)("div",{className:"form-floating mb-3",children:[Object(j.jsxs)("select",{name:"category",id:"category",className:"form-select",placeholder:"Categoria",value:w,onChange:function(e){return S(e.target.value)},required:!0,children:[Object(j.jsx)("option",{value:""}),V.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name})}))]}),Object(j.jsx)("label",{children:"Categor\xeda:"})]}),Object(j.jsxs)("div",{className:"form-floating mb-3 mt-md-4",children:[Object(j.jsxs)("select",{name:"size",id:"size",className:"form-select",placeholder:"Tama\xf1o",value:k,onChange:function(e){return q(e.target.value)},required:!0,children:[Object(j.jsx)("option",{value:""}),Object(j.jsx)("option",{value:"0",children:"Chico"}),Object(j.jsx)("option",{value:"1",children:"Mediano"}),Object(j.jsx)("option",{value:"2",children:"Grande"})]}),Object(j.jsx)("label",{children:"Tama\xf1o: "})]})]}),Object(j.jsxs)("div",{children:[!G&&Object(j.jsx)("button",{className:"btn btn-warning mt-2 btn-lg col-12 col-md-2 offset-md-10",children:"Modificar"}),G&&Object(j.jsx)("button",{className:"btn btn-secondary mt-2 btn-lg col-12 col-md-3 offset-md-9",disabled:!0,children:"Modificando..."})]})]})})]})})})),O=t(20);var u=function(e){return Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)("div",{className:"col-md-4 mb-4",children:Object(j.jsx)("div",{className:"card border-left-".concat(e.color," shadow h-100 py-2"),children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("div",{className:"row no-gutters align-items-center",children:Object(j.jsxs)("div",{className:"col mr-2",children:[Object(j.jsxs)("div",{className:"text-xs font-weight-bold pink-text text-uppercase mb-1",children:[" ",e.titulo]}),Object(j.jsxs)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:[Object(j.jsx)("span",{className:"pink-text me-2",children:e.icono})," ",e.valor]})]})})})})})})},x=t(15),p=t(10);var f=function(){var e=Object(a.useState)(),c=Object(l.a)(e,2),t=c[0],n=c[1],r=Object(a.useState)(),i=Object(l.a)(r,2),o=i[0],b=i[1];Object(a.useEffect)((function(){fetch("/api/products").then((function(e){return e.json()})).then((function(e){n(e.count)}))}),[]),Object(a.useEffect)((function(){fetch("/api/users").then((function(e){return e.json()})).then((function(e){b(e.count)}))}),[]);var h=[{color:"primary",titulo:"Total de usuarios en la plataforma",valor:o,icono:Object(j.jsx)(d.b,{style:{fontSize:"2rem"}})},{color:"success",titulo:"Total de productos",valor:t,icono:Object(j.jsx)(x.a,{style:{fontSize:"2rem"}})},{color:"warning",titulo:"Total de Categor\xedas de postres",valor:4,icono:Object(j.jsx)(p.a,{style:{fontSize:"2rem"}})}];return Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)("div",{className:"row",children:h.map((function(e,c){return Object(a.createElement)(u,Object(O.a)(Object(O.a)({},e),{},{key:c}))}))})})};var g=function(){var e=Object(a.useState)({}),c=Object(l.a)(e,2),t=c[0],n=c[1];return Object(a.useEffect)((function(){fetch("/api/products").then((function(e){return e.json()})).then((function(e){n(e.countByCategory)}))}),[]),Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)("div",{className:"col-12 mb-4",children:Object(j.jsxs)("div",{className:"card shadow mb-4",children:[Object(j.jsx)("div",{className:"card-header py-3",children:Object(j.jsx)("h6",{className:"m-0 font-weight-bold text-gray-800",children:"Total de productos por categor\xeda"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-lg-6 mb-4",children:Object(j.jsx)("div",{className:"card text-white shadow",children:Object(j.jsxs)("div",{className:"card-body pink",children:["Keto: ",t.Keto]})})}),Object(j.jsx)("div",{className:"col-lg-6 mb-4",children:Object(j.jsx)("div",{className:"card text-white bg-white  shadow",children:Object(j.jsxs)("div",{className:"card-body pink",children:["Normal: ",t.Normal]})})}),Object(j.jsx)("div",{className:"col-lg-6 mb-4",children:Object(j.jsx)("div",{className:"card text-white bg-white  shadow",children:Object(j.jsxs)("div",{className:"card-body pink",children:["Vegano: ",t.Vegano]})})}),Object(j.jsx)("div",{className:"col-lg-6 mb-4",children:Object(j.jsx)("div",{className:"card text-white bg-white  shadow",children:Object(j.jsxs)("div",{className:"card-body pink",children:["Light: ",t.Light]})})})]})})]})})})},v=t(13),N=t(25);var y=function(){var e=Object(a.useState)([]),c=Object(l.a)(e,2),t=c[0],s=c[1];return Object(a.useEffect)((function(){fetch("/api/products").then((function(e){return e.json()})).then((function(e){s(e.products)}))}),[]),Object(j.jsxs)("div",{className:"card shadow mb-4",children:[Object(j.jsx)("div",{className:"card-header py-3",children:Object(j.jsx)("h6",{className:"m-0 font-weight-bold text-gray-800",children:"Lista de Productos"})}),Object(j.jsx)("div",{className:"table-responsive p-lg-2",children:Object(j.jsxs)("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellSpacing:"0",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"pink-text",children:"Id"}),Object(j.jsxs)("th",{className:"pink-text",children:[Object(j.jsx)(x.a,{})," Producto "]}),Object(j.jsxs)("th",{className:"pink-text",children:[Object(j.jsx)(v.c,{})," Descripci\xf3n "]}),Object(j.jsxs)("th",{className:"pink-text",children:[Object(j.jsx)(v.b,{})," Precio"]}),Object(j.jsxs)("th",{className:"pink-text",children:[Object(j.jsx)(N.a,{})," Cantidad"]}),Object(j.jsxs)("th",{className:"pink-text",children:[Object(j.jsx)(p.a,{})," Categor\xeda"]}),Object(j.jsxs)("th",{className:"pink-text",children:[Object(j.jsx)(p.b,{})," Detalle"]})]})}),Object(j.jsx)("tbody",{children:t.map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.id}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.description}),Object(j.jsxs)("td",{children:[" $ ",e.price]}),Object(j.jsx)("td",{children:e.quantity}),Object(j.jsx)("td",{children:e.categories}),Object(j.jsx)("td",{children:Object(j.jsx)(i.b,{to:e.detail,children:"Ver"})})]})})}))})]})})]})};var w=function(){var e=Object(a.useState)(),c=Object(l.a)(e,2),t=c[0],n=c[1];return Object(a.useEffect)((function(){fetch("/api/products").then((function(e){return e.json()})).then((function(e){var c=[];e.products.map((function(e){return c.push(e.createdAt)}));var t=c.map((function(e){return new Date(e)})),a=new Date(Math.max.apply(null,t)),s=e.products.filter((function(e){return new Date(e.createdAt)-a===0})),r=Object(l.a)(s,1)[0];fetch("/api/products/"+r.id).then((function(e){return e.json()})).then((function(e){n(e)}))}))}),[]),Object(j.jsx)(s.a.Fragment,{children:t&&Object(j.jsx)("div",{className:"col-lg-6 mb-4",children:Object(j.jsxs)("div",{className:"card shadow mb-4",children:[Object(j.jsx)("div",{className:"card-header py-3",children:Object(j.jsx)("h5",{className:"m-0 font-weight-bold text-gray-800",children:"\xdaltimo producto agregado"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h2",{className:"text-center pink-text",children:t.name}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("img",{className:"img-fluid px-3 px-sm-4 mt-3 mb-4",style:{width:"40rem"},src:t.url,alt:" Star Wars - Mandalorian "})}),Object(j.jsx)("a",{className:"btn btn-danger",target:"_blank",rel:"nofollow",href:"/",children:"View detail"})]})]})})})};var S=function(){var e=Object(a.useState)(0),c=Object(l.a)(e,2),t=c[0],n=c[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),d=i[0],o=i[1];return Object(a.useEffect)((function(){fetch("/api/products/sales").then((function(e){return e.json()})).then((function(e){n(e.totalSales),o(e.topProducts)})).catch((function(e){return console.log(e)}))}),[]),Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)("div",{className:"col-12 mb-4",children:Object(j.jsxs)("div",{className:"card shadow mb-4",children:[Object(j.jsx)("div",{className:"card-header py-3",children:Object(j.jsx)("h6",{className:"m-0 font-weight-bold text-gray-800",children:"Informaci\xf3n de Ventas"})}),0===d.length&&Object(j.jsx)("h2",{children:"Cargando..."}),0!==d.length&&Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 mb-4",children:Object(j.jsx)("div",{className:"card text-white shadow",children:Object(j.jsx)("div",{className:"card-body bg-success",children:Object(j.jsxs)("h4",{children:["Total de ventas:",Object(j.jsx)("br",{}),t]})})})}),Object(j.jsx)("div",{className:"col-12 mb-4",children:Object(j.jsx)("div",{className:"card text-white bg-white  shadow",children:Object(j.jsxs)("div",{className:"card-body bg-secondary",children:[Object(j.jsx)("h3",{children:"Productos m\xe1s vendidos:"}),Object(j.jsxs)("table",{className:"table rounded bg-light",id:"dataTable",width:"100%",cellSpacing:"0",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Rank"}),Object(j.jsx)("th",{scope:"col",children:"ID"}),Object(j.jsx)("th",{scope:"col",children:"Nombre"}),Object(j.jsx)("th",{scope:"col",children:"Vendido"})]})}),Object(j.jsx)("tbody",{children:d.map((function(e,c){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:c+1}),Object(j.jsx)("td",{children:e.id}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.count})]})}))})]})]})})})]})})]})})})};var C=function(){return Object(j.jsxs)("div",{style:{padding:"1rem"},children:[Object(j.jsx)(f,{}),Object(j.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(j.jsx)(w,{}),Object(j.jsx)("div",{className:"col-lg-6 mb-4",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(g,{}),Object(j.jsx)(S,{})]})})]}),Object(j.jsx)(y,{})]})};var D=Object(b.h)((function(e){var c=e.match.params.id,t=Object(a.useState)(null),s=Object(l.a)(t,2),n=s[0],r=s[1],d=Object(a.useState)([]),o=Object(l.a)(d,2),b=o[0],h=o[1],m={weekday:"long",year:"numeric",month:"long",day:"numeric"};return Object(a.useEffect)((function(){fetch("/api/categories").then((function(e){return e.json()})).then((function(e){h(e),console.log(e)})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){fetch("/api/products/".concat(c)).then((function(e){return e.json()})).then((function(e){r(e),console.log(e)})).catch((function(e){return console.log(e)}))}),[c]),Object(j.jsxs)("div",{className:"row d-flex align-items-center px-1 px-md-5",style:{margin:"0"},children:[b.length>0&&n&&!n.error&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"col-12 text-center mb-3",children:Object(j.jsx)("h1",{children:"Detalle del producto"})}),Object(j.jsxs)("div",{className:"col-md-5 mb-5",children:[Object(j.jsx)("img",{className:"img-fluid",src:n.url,alt:n.name}),Object(j.jsxs)("div",{className:"row d-lg-flex d-none mt-2",children:[Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("h4",{children:"Tama\xf1o:"}),Object(j.jsx)("h5",{children:function(e){switch(e){case 0:return"Peque\xf1o";case 1:return"Mediano";default:return"Grande"}}(n.size)})]}),Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("h4",{children:"Cantidad:"}),Object(j.jsx)("h5",{children:n.quantity})]})]})]}),Object(j.jsxs)("div",{className:"col-md-7 ps-md-5 mb-3",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("h3",{children:"Nombre:"}),Object(j.jsx)("p",{children:n.name})]}),Object(j.jsxs)("div",{className:"col-4",children:[Object(j.jsx)(i.b,{to:"/dashboard/products/".concat(n.id,"/update"),className:"btn btn-warning mb-3",children:"Editar"}),Object(j.jsxs)("h3",{children:["ID: ",n.id]})]})]}),Object(j.jsx)("h3",{children:"Descripci\xf3n:"}),Object(j.jsx)("p",{children:n.description}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"row d-lg-none mb-3",children:[Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("h5",{children:"Tama\xf1o:"}),Object(j.jsx)("p",{children:n.size})]}),Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("h5",{children:"Cantidad:"}),Object(j.jsx)("p",{children:n.quantity})]})]}),Object(j.jsxs)("div",{className:"row mb-3",children:[Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("h3",{children:"Precio:"}),Object(j.jsxs)("p",{children:["$ ",parseFloat(n.price).toFixed(2)," mxn"]})]}),Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("h3",{children:"Categor\xeda:"}),Object(j.jsx)("p",{children:b.filter((function(e){return e.id===n.category}))[0].name})]})]}),Object(j.jsxs)("div",{className:"row mb-3",children:[Object(j.jsxs)("div",{className:"col-lg-6",children:[Object(j.jsx)("h3",{children:"Creado:"}),Object(j.jsx)("p",{children:new Date(n.createdAt).toLocaleDateString("sp-MX",m)})]}),Object(j.jsxs)("div",{className:"col-lg-6",children:[Object(j.jsx)("h3",{children:"Actualizado:"}),Object(j.jsx)("p",{children:new Date(n.updatedAt).toLocaleDateString("sp-MX",m)})]})]})]})]}),0===b.length&&!n&&Object(j.jsx)("div",{className:"col-12 text-center mt-5",children:Object(j.jsx)("h1",{children:"Estamos horneando tu postre..."})}),n&&n.error&&Object(j.jsxs)("div",{className:"col-12 text-center mt-5",children:[Object(j.jsx)("h1",{children:"El postre que buscas no existe en la base de datos."}),Object(j.jsx)("h4",{children:Object(j.jsx)(i.b,{to:"/dashboard",children:"Regresar a dashboard."})})]})]})}));var k=function(){var e=Object(a.useState)(null),c=Object(l.a)(e,2),t=c[0],n=c[1];return Object(a.useEffect)((function(){fetch("/api/users/last").then((function(e){return e.json()})).then((function(e){console.log(e),n(e)})).catch((function(e){return console.log(e)}))}),[]),Object(j.jsx)(s.a.Fragment,{children:null!=t&&Object(j.jsxs)("div",{className:"card shadow mb-4",children:[Object(j.jsx)("div",{className:"card-header py-3",children:Object(j.jsx)("h5",{className:"m-0 font-weight-bold text-gray-800",children:"\xdaltimo usuario registrado"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("h2",{className:"text-center pink-text",children:[t.firstName," ",t.lastName]}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("img",{className:"img-fluid px-3 px-sm-4 mt-3 mb-4",style:{width:"40rem"},src:t.url,alt:t.id})}),Object(j.jsxs)("h4",{children:["Creado hace ",(Math.abs(new Date-new Date(t.createdAt))/6e4).toFixed(0)," minutos."]}),Object(j.jsx)("a",{className:"btn btn-danger disabled",target:"_blank",rel:"nofollow",href:"/",children:"View detail"})]})]})})};var q=function(){var e=Object(a.useState)([]),c=Object(l.a)(e,2),t=c[0],s=c[1];return Object(a.useEffect)((function(){fetch("/api/users").then((function(e){return e.json()})).then((function(e){s(e.users)}))}),[]),Object(j.jsxs)("div",{className:"card shadow mb-4",children:[Object(j.jsx)("div",{className:"card-header py-3",children:Object(j.jsx)("h6",{className:"m-0 font-weight-bold text-gray-800",children:"Lista de Usuarios"})}),Object(j.jsx)("div",{className:"table-responsive p-lg-2",children:Object(j.jsxs)("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellSpacing:"0",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"pink-text",children:"ID"}),Object(j.jsxs)("th",{className:"pink-text",children:[Object(j.jsx)(p.c,{})," Nombre "]}),Object(j.jsxs)("th",{className:"pink-text",children:[Object(j.jsx)(v.a,{})," Email "]}),Object(j.jsxs)("th",{className:"pink-text",children:[Object(j.jsx)(p.b,{})," Detalle"]})]})}),Object(j.jsx)("tbody",{children:t.map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.id}),Object(j.jsxs)("td",{children:[e.firstName," ",e.lastName]}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{children:Object(j.jsx)(i.b,{to:e.detail,disabled:!0,children:"Ver"})})]})})}))})]})})]})};var E=function(){var e=Object(a.useState)(0),c=Object(l.a)(e,2),t=c[0],n=c[1];return Object(a.useEffect)((function(){fetch("/api/users").then((function(e){return e.json()})).then((function(e){n(e.count)})).catch((function(e){return console.log(e)}))}),[]),Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)("div",{className:"col-12 mb-4",children:Object(j.jsxs)("div",{className:"card shadow mb-4",children:[Object(j.jsx)("div",{className:"card-header py-3",children:Object(j.jsx)("h6",{className:"m-0 font-weight-bold text-gray-800",children:"Totales de Usuarios"})}),0===t&&Object(j.jsx)("h2",{children:"Cargando..."}),0!==t&&Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12 mb-4",children:Object(j.jsx)("div",{className:"card text-white shadow",children:Object(j.jsx)("div",{className:"card-body bg-success",children:Object(j.jsxs)("h4",{children:["Total de usuarios:",Object(j.jsx)("br",{}),t]})})})})})})]})})})};var T=Object(b.h)((function(){return Object(j.jsxs)("div",{className:"row d-flex align-items-center px-1 px-md-5",style:{margin:"0"},children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)(k,{})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)(E,{})}),Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)(q,{})})]})}));var F=Object(b.h)((function(e){var c=e.match.params.id,t=Object(a.useState)(null),s=Object(l.a)(t,2),n=s[0],r=s[1],d={weekday:"long",year:"numeric",month:"long",day:"numeric"};return Object(a.useEffect)((function(){fetch("/api/users/".concat(c)).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.log(e)})),console.log(n)}),[c]),Object(j.jsxs)("div",{className:"row d-flex align-items-center px-1 px-md-5",style:{margin:"0"},children:[n&&!n.error&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"col-12 text-center mb-3",children:Object(j.jsx)("h1",{children:"Detalle del usuario"})}),Object(j.jsx)("div",{className:"col-md-5 mb-5",children:Object(j.jsx)("img",{className:"img-fluid",src:n.url,alt:n.name})}),Object(j.jsxs)("div",{className:"col-md-7 ps-md-5 mb-3",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("h3",{children:"Nombre:"}),Object(j.jsxs)("p",{children:[n.firstName," ",n.lastName]})]}),Object(j.jsx)("div",{className:"col-4",children:Object(j.jsxs)("h3",{children:["ID: ",n.id]})})]}),Object(j.jsxs)("div",{className:"row mb-3",children:[Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("h5",{children:"M\xf3vil:"}),Object(j.jsx)("p",{children:n.mobile})]}),Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("h5",{children:"E-mail:"}),Object(j.jsx)("p",{children:n.email})]})]}),Object(j.jsxs)("div",{className:"row mb-3",children:[Object(j.jsxs)("div",{className:"col-lg-6",children:[Object(j.jsx)("h3",{children:"Creado:"}),Object(j.jsx)("p",{children:new Date(n.createdAt).toLocaleDateString("sp-MX",d)})]}),Object(j.jsxs)("div",{className:"col-lg-6",children:[Object(j.jsx)("h3",{children:"\xdaltima sesi\xf3n:"}),Object(j.jsx)("p",{children:new Date(n.lastLogin).toLocaleDateString("sp-MX",d)})]})]})]})]}),!n&&Object(j.jsx)("div",{className:"col-12 text-center mt-5",children:Object(j.jsx)("h1",{children:"Estamos buscando al usuario..."})}),n&&n.error&&Object(j.jsxs)("div",{className:"col-12 text-center mt-5",children:[Object(j.jsx)("h1",{children:"El usuario que buscas no existe."}),Object(j.jsx)("h4",{children:Object(j.jsx)(i.b,{to:"/dashboard",children:"Regresar a dashboard."})})]})]})}));t(37);var P=function(){return Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)("object",{type:"image/svg+xml",data:"404.svg",className:"image",children:"404"}),Object(j.jsx)("h2",{className:"title",children:"Error 404"}),Object(j.jsx)("p",{className:"message",children:"P\xe1gina no encontrada."}),Object(j.jsx)(i.b,{to:"/dashboard",className:"return",children:" Regresar "})]})};var z=function(){var e=Object(a.useState)(null),c=Object(l.a)(e,2),t=c[0],s=c[1];return Object(a.useEffect)((function(){fetch("/api/isAdmin").then((function(e){return e.json()})).then((function(e){console.log(e),s("isAdmin"in e&&e.isAdmin)})).catch((function(e){return console.log(e)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[null===t&&Object(j.jsx)("h1",{style:{textAlign:"center",paddingTop:"30vw"},children:"Cargando contenido..."}),null!=t&&!t&&Object(j.jsxs)("div",{style:{textAlign:"center",paddingTop:"30vw"},children:[Object(j.jsx)("h1",{children:"403 FORBIDDEN - No est\xe1s autorizado para usar esta secci\xf3n"}),Object(j.jsx)("a",{href:"/",className:"navbar-brand me-5",style:{marginRight:"10px"},children:" Regresar a Tienda"})]}),null!==t&&t&&Object(j.jsxs)("div",{className:"container-fluid",style:{padding:0},children:[Object(j.jsx)(o,{}),Object(j.jsxs)(b.d,{children:[Object(j.jsx)(b.b,{path:"/404",exact:!0,render:P}),Object(j.jsx)(b.b,{path:"/dashboard",exact:!0,render:C}),Object(j.jsx)(b.b,{path:"/dashboard/users",exact:!0,render:T}),Object(j.jsx)(b.b,{path:"/dashboard/users/:id",render:F}),Object(j.jsx)(b.b,{path:"/dashboard/products/create",render:h}),Object(j.jsx)(b.b,{path:"/dashboard/products/:id/update",render:m}),Object(j.jsx)(b.b,{path:"/dashboard/products/:id",render:D}),Object(j.jsx)(b.a,{to:"/404"})]})]})]})},I=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(c){var t=c.getCLS,a=c.getFID,s=c.getFCP,n=c.getLCP,r=c.getTTFB;t(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(j.jsx)(i.a,{children:Object(j.jsx)(z,{})}),document.getElementById("root")),I()}},[[38,1,2]]]);
//# sourceMappingURL=main.866155a3.chunk.js.map